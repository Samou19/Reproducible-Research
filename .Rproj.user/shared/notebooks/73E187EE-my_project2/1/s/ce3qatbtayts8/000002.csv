"0","storm_data_processed <- storm_data %>% "
"0","  # format date"
"0","  mutate(BGN_DATE = mdy_hms(BGN_DATE)) %>% "
"0","  # filter out older years"
"0","  filter(BGN_DATE >= as.Date(""1980-01-01"")) %>% "
"0","  # events grouped together"
"0","  mutate(EVTYPE = str_to_upper(EVTYPE),"
"0","         event = str_replace_all(EVTYPE, ""TSTM|THUNDERSTORMS"", ""THUNDERSTORM""),"
"0","         event = str_replace_all(event, ""WINDS"", ""WIND"")) %>% "
"0","  # calculate property and crop damage - if no valid code present then set to 0"
"0","  mutate(prop_damage = case_when(str_to_upper(PROPDMGEXP) == ""H"" ~ PROPDMG*100,"
"0","                                 str_to_upper(PROPDMGEXP) == ""K"" ~ PROPDMG*1000,"
"0","                                 str_to_upper(PROPDMGEXP) == ""M"" ~ PROPDMG*10^6,"
"0","                                 str_to_upper(PROPDMGEXP) == ""B"" ~ PROPDMG*10^9,"
"0","                                 TRUE ~ 0),"
"0","         crop_damage = case_when(str_to_upper(CROPDMGEXP) == ""H"" ~ CROPDMG*100,"
"0","                                 str_to_upper(CROPDMGEXP) == ""K"" ~ CROPDMG*1000,"
"0","                                 str_to_upper(CROPDMGEXP) == ""M"" ~ CROPDMG*10^6,"
"0","                                 str_to_upper(CROPDMGEXP) == ""B"" ~ CROPDMG*10^9,"
"0","                                 TRUE ~ 0))"
"0","count(storm_data_processed, event, sort = TRUE) %>% View()"
